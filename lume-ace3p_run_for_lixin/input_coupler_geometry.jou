reset
#{iris=38.0}
#{wg=40.0}
create cylinder height {(34797.660000-34767.670000)} radius 40.5
move Volume 1 x 0 y 0 z {(34797.660000+34767.670000)/2} include_merged

import acis "../0_coupler.sat"
brick x {iris} y 180 z 29.99
move Volume 3 x 0 y 0 z {(34797.660000+34767.670000)/2} include_merged
unite all
compress ids

brick x {wg} y 72.1 z 29.99
move volume 2 x {-wg/2} y { (-43.95-116.05)/2} z {(34797.660000+34767.670000)/2} 
unite all
compress ids
export acis "coupler-iris-wg.sat" overwrite

reset
import acis "coupler-iris-wg.sat"
Volume 1  copy reflect z
move Volume 2 x 0 y 0 z {(34977.610000+34972.610000)}  include_merged

import acis "../5upcells.sat"
move Volume 2  x 0 y 0 z {34972.610000-35147.560000} include_merged

unite all
compress ids

export acis "7cells-iris-wg.sat" overwrite

reset
import acis "7cells-iris-wg.sat"
vol all schem Tetmesh

##setting BC_ID
##ports
compress ids
group "wg1" add surface 112
group "wg2" add surface 62
group "beampipe3" add surface 107
group "beampipe4" add surface 57
group "wall6" add surface all
wall6 remove surface in wg1
wall6 remove surface in wg2
wall6 remove surface in beampipe3
wall6 remove surface in beampipe4
sideset 1 surface in wg1
sideset 2 surface in wg2
sideset 3 surface in beampipe3
sideset 4 surface in beampipe4
sideset 6 surface in wall6
vol 1 size auto factor 3
mesh vol 1
transform mesh output scale {0.001}
export genesis "7cells-iris-wg.gen" overwrite
quality vol all distortion high 0.0 draw mesh
quality vol all aspect ratio